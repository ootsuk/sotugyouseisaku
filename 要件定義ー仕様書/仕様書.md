すくすくミントちゃん要求仕様書をマークダウン形式に変換しました。

すくすくミントちゃん要求仕様書

植えるだけ、あとはおまかせ。あなたの園芸を応援。 


チーム ：KEBABS 


発行日：２０２５年７月７日 

改訂履歴
項番	日付	バージョン	改訂内容	備考
2025/07/14	1.0	作成開始	

Google スプレッドシートにエクスポート
目次
概要

目的 

位置づけ 

対象ユーザ 

記載範囲 

参照ドキュメント 

定義（用語、略語） 

システム構成 

システム全体構成 

システムを構成する主たる要素 

機能概要 

制約条件 

ハードウェアなどを含めたシステム全体の構成と制約 

ソフトウェアプラットフォーム 

ユースケースとユースケース・シナリオ 

機能詳細 

インタフェース詳細 

性能・品質等非機能要求詳細 

信頼性に関する要求 

使用性に関する要求 

効率性に関する要求 

保守性・移植性に関する要求 

セキュリティ面に関する要求 

その他 

1. 概要
1.1 目的
①園芸初心者でも気軽に植物を育てられるようにする。 

②高齢者など、植物の世話が負担になりやすい人でも無理なく植物を育てられるようにする。 

③気軽に園芸を始めることで、農業に対する興味を引き出し、農業従事者の人手不足解消に少しでも貢献することを目指す。 

1.2 位置づけ
家庭園芸支援IoTシステムとして、スマート農業入門用途に位置づける。 

1.3 対象ユーザ
園芸初心者、高齢者、 スマート農業に関心のある一般ユーザー 

1.4 記載範囲
本仕様書は、センサーハードウェア、Raspberry Pi上の制御ソフト、Web UI、 LINE通知、AIアドバイザを含む。 

1.5 参照ドキュメント
ID	文書名	文書番号	発行年月	備考
プロジェクト計画書			

Google スプレッドシートにエクスポート
1.6 定義（用語、略語）
ID	用語・略号	正式表記	意味
1	ADC	Analog-to-Digital Converter	
アナログ信号をデジタル信号に変換するICまたは回路 

2	GPIO	General Purpose Input/Output	
Raspberry Piなどの汎用出力端子 

3	Flask	Flask	
Python製の軽量Webアプリケーションフレームワーク 

4	I2C	Inter-Integrated Circuit	
2本の信号線で通信するシリアル通信方式。複数機器と接続が可能 

5	SPI	Serial Peripheral Interface	
高速なシリアル通信方式。4本の信号線でデバイスと通信する 

６	LLM	Large Language Model	
大規模な言語データで学習されたAIモデル。 


Google スプレッドシートにエクスポート
2. システム構成
2.1 システム全体構成
（図 1 システム全体構成図） 

2.2 システムを構成する主たる要素
構成要素ID	構成要素	概要
１	温湿度センサ	
周囲の温度および相対湿度を取得し、環境状態をモニタリングする 

2	土壌水分センサ	
土壌中の含水率を測定し、給水の必要性を判断するための情報を取得 

3	水ポンプ	
給水タンク内の水を吸い上げ、プランターに自動給水する 

4	カメラモジュール	
植物の成長状態を定期的に撮影・記録する 

5	フロートスイッチ	
給水タンク内の水位を検知し、水不足を検出する 

6	リレーモジュール	
GPIO信号により水ポンプやLEDのON/OFFを制御する 

7	Raspberry Pi	
センサやアクチュエータの制御、データ処理・画像保存を行う中核装置 

8	Flask	
Raspberry Pi上で動作し、Web UIの提供と通知機能を実装する 


Google スプレッドシートにエクスポート
3. 機能概要
ID	構成要素	概要
１	給水判断機能	
"取得済みの土壌水分データをもとに、"給水判断を行う。 

2	自動給水機能	
給水判断機能からの指示に基づき、水ポンプを自動で制御し、水やりを実行する 

3	LINE通知機能	
LINEを用いて、植物の異常（水切れなど）や給水完了をユーザーに通知する 

4	撮影機能	
カメラモジュールを用いて、毎日自動で、またはユーザーの操作に応じて植物を撮影する 

5	AIアドバイザ機能	
栽培に関する質問にAIが対応し、初心者の不安や疑問を解消する支援機能。 

6	成長記録表示機能（フロントエンド）	
センサ値、給水履歴、撮影画像などの成長記録データをWebブラウザ上で視覚的に表示し、ユーザーが操作できるインターフェース 

7	センサ・制御機能（バックエンド）	
GPIO制御を通じて、センサ値（水分・温湿度）の取得、水ポンプのON/OFF制御、およびLINE通知のトリガー処理を行う。 

8	ログ・画像管理機能（バックエンド）	
センサ値や水やり履歴、撮影画像を保存・管理し、必要に応じて削除・出力を行う。 


Google スプレッドシートにエクスポート
4. 制約条件
4.1 ハードウェアなどを含めたシステム全体の構成と制約
1. ハードウェア構成に関する制約

使用するメインボードはRaspberry Pi 5 (Rasbian OS) に限定する。 

センサ類（土壌水分センサ、温湿度センサ）は、Raspberry PiのGPIOピンに接続可能なものに限る。 

アクチュエータ類（水中ポンプ）の電源は、Raspberry Pi から直接供給せず、外部ACアダプターで供給する。 

リレーモジュールは５V稼働、3.3Vトリガ対応のものを使用し、Raspberry PiのGPIO電圧に適合する必要がある。 

センサ仕様

温度異常範囲: 5℃以下または35℃以上 

湿度異常範囲: 30％以下または80％以上 

データ取得精度: 温度 ±1.0℃、湿度 ±5.0％RH 

２．ソフトウェア・プログラムに関する制約

ソフトウェアはPythonを使用して開発し、Raspberry Pi OS (Rasbianベース)上で動作する。 

ライブラリやモジュールはopen-source(例：RPi.GPIO, Flask, requestsなど)で構成し、商用ライセンスを含まない。 

３．製品動作環境に関する制約条件

本システムは屋内使用を前提とし、直射日光や水がかかる場所では使用しない。 

本システムの推奨動作環境は、室温 5〜35℃、湿度 30〜85%RH とする。 

ネットワーク機能を使用する場合、Wi-Fi接続可能な環境が必要。 

４．保守・運用に関する制約

保守作業は基本的にユーザー自身によって行い、センサの清掃や水タンクの補充、フィルターの詰まり確認などを定期的（推奨月１回）に行う必要がある。 

電源ケーブルや水ポンプなどの部品は消耗品として扱い、一定期間で交換が推奨される。 

故障時の再起動方法や、ソフトウェアアップデート手順は別途マニュアルに提供。 

５．準拠規格・安全基準に関する制約

電源・電子部品の使用においては、日本国内の電気用品安全法（PSE）に適合した製品を使用する。 

制御プログラムは暴走や誤作動を避けるため、フェイルセーフ設計（一定時間でリセット、過剰な水やり防止タイマー）を導入する。 

4.2 ソフトウェアプラットフォーム
種類	名称	バージョン
OS	Raspberry Pi OS	
最新版 

ミドルウェア	Flask	
2.3.3 


Google スプレッドシートにエクスポート
5. ユースケースとユースケース・シナリオ
ユースケースID	ユースケース名	概要
UC1	水やりの自動制御	
土壌水分センサ値が閾値以下で、前回の給水から１２時間以上経過の場合、給水が開始される 

UC2	異常通知送信	
温度異常や水切れが検知されると、LINEへ通知が送信される 

UC3	遠隔操作	
Web画面の操作を通じて、手動で植物の撮影を実行する 

UC4	成長確認	
ダッシュボードでセンサ履歴や撮影画像の履歴を視覚的に確認する 

UC5	AI相談	
LINEでの日本語問い合わせに対し、園芸アドバイスを自動応答（LLM連携） 

UC6	撮影スケジュール	
毎朝指定した時刻に植物を撮影し、JPEG形式で保存する 


Google スプレッドシートにエクスポート
6. 機能詳細
給水判断機能

取得された土壌水分量をもとに、給水の判断を行う 

センサの値が１５９を下回った場合、給水が必要と判断 

自動給水機能

トリガー: 給水判断機能によって給水が必要と判断された場合。 

給水実行条件：トリガー発生後、前回の給水から最短１２時間が経過している場合にのみ実行 

給水量: 100ml/回 

給水時間: 最大5秒 

安全停止条件: 連続給水2回で強制停止 

LINE通知機能

LINEを通じて、異常や給水完了を通知 

LINEボット連携: LINEボットのメッセージ内にWebアプリケーションへのリンクを含めることで、ユーザーはLINEから直接Webアプリにアクセス可能 

撮影機能

自動撮影：毎朝指定した時刻に植物を撮影（JPEG保存） 

手動撮影：成長記録表示機能のUIから、ユーザーが任意で植物を撮影 

画像解像度: 1280×720ピクセル 

保存形式: JPEG 

保存期間: 90日間（自動削除） 

ファイル命名規則: YYYYMMDD_HHMMSS.jpg 

AIアドバイザ機能

LLM APIに接続し、園芸Q&AをWEBアプリ上で提供 

成長記録表示機能

Web技術：HTML、CSS、JavaScriptを使用 

レイアウト：ダッシュボード形式 

データ可視化：センサ値・撮影画像・給水履歴などをまとめて視覚的に表示。データの種類に適したカレンダーや表、グラフ等で閲覧可能 

操作UI：手動で撮影を行うことができる操作UIを提供 

センサ・制御機能

役割: センサー値の取得（水分・温湿度）、水ポンプの制御、通知トリガーなどの処理を担当 

データ取得周期：

土壌水分センサ：５分毎 

温湿度センサ：３０分毎 

ログ・画像管理機能

管理対象データ

土壌水分、温湿度、水位センサの値 

給水履歴（給水時刻・回数） 

撮影画像（JPEG形式) 

データ保存形式 と仕様

撮影画像

JPEG形式 

解像度1280×720 

ファイル名形式 YYYYMMDD_HHMMSS.jpg 

水やり履歴

給水時刻・回数 

センサログ

CSVまたはJSON形式 

保存先

USBストレージ 

保存期間と削除ポリシー

センサーログ：最大90日間保存 

撮影画像：最大90日間保存 

超過分は古い順に自動削除（FIFO方式） 

ユーザー操作

Web UI上から履歴データを閲覧 

7. インタフェース詳細
インタフェースID	接続先	データ内容	プロトコル／方式	備考
IF-01	温湿度センサ	温度・湿度（数値）	GPIO + I2C	
AHT25 センサを想定 

IF-02	土壌水分センサ	電圧値（アナログ）	GPIO+ ADC+SPI+ (MCP3002)	
ADCでデジタル変換後取得 

IF-03	カメラ	静止画像（JPEG）	USB	
C270カメラをUSB接続 

IF-04	Webブラウザ	ダッシュボード表示用HTML	
HTTP(Flask経由）

ローカルネットワーク内 

IF-05	LINE Notify	通知メッセージ	HTTPS(LINEAPI)	
LINE通知を使用 


Google スプレッドシートにエクスポート
Web UI仕様

画面構成: ダッシュボード、履歴、設定画面 

対応ブラウザ: Chrome、Firefox、Safari 

レスポンシブ対応: スマートフォン 

更新間隔: リアルタイム（WebSocket）または○○秒間隔 

LINE Bot仕様

通知タイミング: 異常検知時、給水完了時、定期報告 

ダッシュボードへのアクセスURL提供 

AIアドバイザ仕様

使用API: OpenAI GPT-4 / Claude / Geminiから適したものを使用 

応答時間: 5秒以内 

対応言語: 日本語 

知識範囲: 家庭園芸、植物病害虫、栽培方法 

8. 性能・品質等非機能要求詳細
8.1 信頼性に関する要求
センサデータ取得失敗が3回以上連続でLINE通知 

センサ値異常: 物理的に不可能な値の場合の処理→LINE通知を行う。 

通信エラー: I2C/SPI通信失敗時の再試行回数→5回以降LINE通知 

フィルター処理でセンサばらつきを低減 

ポンプ動作確認: 給水完了時点でLINE通知を行う。 

給水異常: 設定時間経過しても土壌湿度値が上がらない場合LINE通知を行う。 

水タンク空: フロートスイッチ検知時の処理LINEで水の補給通知を行う。 

8.2 使用性に関する要求
Web UIは1秒以内で表示、リアルタイム表示あり 

スマホでも視認・操作しやすいUI 

8.3 効率性に関する要求
データ取得は30分ごと、撮影は1日1回（AM6:00） 

外部保存を優先しSDカード書き込みを回避 

データ保存期間 センサーデータ90日間、画像90日間 

8.4 保守性・移植性に関する要求
システム再起動: リモート再起動機能 

ログ確認: 遠隔でのログ確認方法LINEからダッシュボードに移動し確認できる。 

設定変更: 閾値等の動的変更機能 

センサー追加対応: pH センサー、照度センサー等 

複数植物対応: スケールアウト時の設計 

データと制御を分離、LEDやAIアドバイザの将来追加を想定 

8.5 セキュリティ面に関する要求
センサー、画像データは外部共有しない設計としUSBストレージ内で保存することでセキュリティを担保する 

通信はローカルネットワーク内に限定しインターネット越しのアクセスを不可とする 

9. その他
特に無し 