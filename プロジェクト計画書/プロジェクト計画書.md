すくすくミントちゃん

プロジェクト計画書

2025年　5月　30日

チーム名

KEBABS

**目次**

1.  プロジェクト概要

2.  システム概要

3.  機能要件

4.  非機能要件

5.  プロジェクト体制

6.  日程（スケジュール）

7.  マイルストーン及び成果物

8.  リスク/懸案事項

```{=html}
<!-- -->
```
1.  **プロジェクト概要**

　①園芸初心者でも気軽に植物を育てられるようにする。

　②高齢者など、植物の世話が負担になりやすい人でも無理なく植物を

　　育てられるようにする。

　③気軽に園芸を始めることで、農業に対する興味を引き出し、

　　農業従事者の人手不足解消に少しでも貢献することを目指す。

2.  **システム概要**

![](/media/image.png){width="4.198502843394576in"
height="2.739965004374453in"}

**◆ハードウェア**

**1.温湿度センサー AHT25**

-   部屋の温度、周りの温度を取得する。
-   通信方式: I2C
-   取得間隔: 30分
-   故障時: 手動設定モードに切り替え

**2.土壌水分センサー SEN0193**

-   プランターの土壌の水分量を取得
-   通信方式: ADC経由 (MCP3002)
-   取得間隔: 5分
-   給水閾値: 159以下
-   故障時: タイマーベース給水モードに切り替え

**3.水ポンプ**

-   プランターに水を供給する

**4.カメラモジュール C270 HDウェブカメラ**

-   植物を撮影する

**5.フロートスイッチ**

-   タンクの水の残量のチェックを行う

**6.リレーモジュール** AE-G5V-DRV

-   ポンプの制御を行う

**7.ADC MCP3002**

-   アナログ信号をデジタル信号に変換する

-   土壌水分センサーの接続で必要

#以下は可能であれば実装

8.LED

・日光が十分な環境ではLED不要。将来的に屋内向け拡張も視野に入れる

・植物用LEDを制御し、植物の成長を促す

**◆ソフトウェア**

**1.バックエンド (Raspberry Pi + Flask)**

・実行環境

Raspberry Pi 5上でFlask (Python) を用いてローカルサーバーを構築
し、Webアプリを提供。センサーはGPIO経由で接続し、定期的にデ
ータを取得・保存

**・センサー制御**

♦対象センサー

温湿度センサー(AHT25) 、土壌水分センサー(SEN0193)、

フロートスイッチ

> ♦制御内容:
>
> ・温湿度センサー(AHT25)
>
> 温度と湿度を30分間隔で取得し、環境データとして保存
>
> I2C通信経由でデータを取得
>
> 故障時は手動設定モードに切り替え
>
> ・土壌水分センサー(SEN0193)
>
> 土壌の水分量を5分間隔で測定し、水やり判断に使用
>
> ADC経由でアナログ信号を取得
>
> 閾値159以下で自動給水をトリガー
>
> 故障時はタイマーベース給水モードに切り替え

・フロートスイッチ

> タンクの水位を監視、水不足を警告
>
> タンクが空の場合、給水を停止
>
> GPIO経由でON/OFF信号を取得

　　　・LED

リレーモジュールにより、電力と、光の強さを制御。

・自動給水制御

♦制御条件 : 土壌水分値159以下かつ前回給水から12時間経過で給水を実行 　

♦制御方法 : リレーモジュールを介して水ポンプを5秒間作動

♦安全機能 : 連続給水2回で強制停止、水タンク空時は給水停止

・画像処理

> WEBカメラを用いて植物の定期撮影を実施

**・**データ保存

♦保存対象

・水やりの実施記録（日時、エラー情報）、各種センサーの 　

測定データ（温度、湿度、土壌水分量、タンク水位）

♦保存場所

・Raspberry Piに接続したUSBストレージに保存

♦保存形式

・写真：JPEG

・センサデータ：CSV

**2.****フロントエンド(HTML, CSS, JavaScript)**

　♦ダッシュボード

　 ・ センサーからのリアルタイムデータの可視化（温度、湿度、土壌水分）

　 ・撮影された画像の閲覧

　♦ユーザー操作

　　・手動での水やりやポンプの強制停止機能

　　・カメラやポンプの動作設定画面の提供

**3.LINEチャットボット**

**　・**チャットボットからの通知によりローカルWEBアプリに接続

　・水やりの完了通知

**　・**センサー異常のアラート（温度・湿度の異常、ポンプ動作エラー）

　・LLMAPIを用いた基本的な園芸アドバイスやトラブルシューティングの提供

**❖データフロー**

　**1.データ収集**

温湿度センサー(DHT20)や土壌水分センサー(YL-69)がリアルタイム
でデータ取得

　**2.データ送信**

Raspberry Pi上のFlaskサーバーにGPIOやADC経由でセンサーデー
タを送信し、データベースやUSBストレージに保存

　**3.データ可視化**

Flaskが提供するWebインターフェースのダッシュボードで、ユーザ
ーにリアルタイムかつ過去のセンサーデータや植物の写真を表示

**　4.自動給水**

設定した閾値や時間帯に基づき、Flaskサーバーがリレーモジュール
を制御して水ポンプを自動で作動

　**5.ユーザー通知**

給水完了やセンサー異常などの重要イベントをLINEチャットボット
がリアルタイムでユーザーに通知

3.  **機能要件**

・センサ機能

　環境状況を把握するために、温湿度センサや土壌水分センサ　　　　　を用いて各種データを取得する機能

・自動制御機能

　　　水やりの自動化を目的として、水ポンプを制御する。

・通知機能

　　　植物の成長記録を手軽に確認するために、LINEを用いて通　　　　知を行う機能

・データ保存機能

センサデータや水やりのログを保存するための機能。

・WEBフロントエンド

　植物の成長記録を見やすく表示するために、ユーザーインターフェース（UI）を設計・構築する。

・WEBバックエンド

各種センサやポンプの制御を行うとともに、ログや写真の管理を担当する機能。

・撮影機能

植物の成長を可視化し成長記録として保存するために撮影する。

・AIアドバイザ機能

初めて植物を育てる際の疑問や不安を解消できるよう、AIに気軽に質問できる環境を提供し、植物を円滑に育てられるよう支援する。

4.  **非機能要件**

※非機能要件を明確にする。

1.性能

　♦センサーの取得間隔

  -----------------------------------------------------------------------
  センサ                                     取得間隔
  ------------------------------------------ ----------------------------
  温湿度センサ                               30分

  土壌水分センサ                             30分

  webカメラ                                  am6:00
  -----------------------------------------------------------------------

　♦Flask

・1秒以内にwebダッシュボードを表示できるレスポンスを目指す

2.セキュリティ

・センサー、画像データは外部共有しない設計とし、USBストレージ内で保存することでセキュリティを担保する

・通信はローカルネットワーク内に限定し、インターネット越しのアクセスを不可とする

・USBストレージはLUKS暗号化でデータ保護

・Web UIに簡易認証機能を実装し、不正アクセスを防止

・Raspberry Piのファイアウォールで外部アクセスをブロック

3.可用性

・Raspberry piは24時間連続稼働を想定し、動作確認を最低7日間以上実施する

・定期的にRaspberry
piを再起動することで、蓄積されるメモリ消費や不具合をリセット

・SDカードの劣化を防ぐため、ログ・画像はUSBストレージへ保存する

4.信頼性

・センサーデータの取得失敗が3回連続した場合には、異常としてLINE通知を送信する

・センサーからの入力は平均値フィルタ処理を行い、ばらつきに強い設計とする

・温湿度センサー故障時は手動設定モードに切り替え、土壌水分センサー故障時はタイマーベース給水に切り替え

・ネットワーク断絶時はローカル動作を継続し、接続復旧時に状況を報告

・USBストレージ接続失敗時はSDカードへの一時保存に切り替え

5.  **プロジェクト体制**

> リーダー：野下

サブリーダー：大塚

メンバー：網中　川渕　檜室

6.  **日程（スケジュール）**

　～6月15日　システム仕様確定

　

![](/media/image2.png){width="5.90625in" height="1.4791666666666667in"}

7.  **マイルストーン及び成果物**

　

> ![](/media/image3.png){width="5.90625in" height="1.3125in"}
>
> ・システム仕様確定　6/13\
> ・設計完了　7/28
>
> ・プログラミング完了10/10
>
> ・テスト完了11/14
>
> ・学科内成果資料作り12/12

8.  **リスク・懸案事項**

・センサーデータが不安定

　土壌湿度や気温、照度などのデータが外部環境に影響されやすく、取得値に

　ばらつきが出る可能性がある。

・植物の生育に関する不確実性

　栽培環境や気温、湿度、日照時間などの条件により、植物が計画通りに生育

　しない可能性がある。センサーや自動給水機能があっても、すべての環境要

　因を完全に制御することは困難であり、プロジェクト成果物の検証に支障を

　きたす可能性ある。

・Raspberry Piの長期運用によるハードウェア的な課題

　スマートプランターの制御にRaspberry Piを用いるため、長期間連続稼働さ

　せることでSDカードの劣化やファイルシステムの破損といったリスクがあ

　る。これにより、予期せぬシステムダウンやデータ損失が発生してしまう。

・画像認識AIの開発難易度

　カメラ映像から植物の成長状況や収穫時期を判断する画像認識AIの構築は、

　十分な学習データの収集や精度の高いモデル設計が求められ、高度な技術的

　課題となる。実装スケジュールにおいて想定よりはるかに時間が掛かってし

　まう可能性が懸念される。

以　上
