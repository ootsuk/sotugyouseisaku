# ã™ãã™ããƒŸãƒ³ãƒˆã¡ã‚ƒã‚“ é–‹ç™ºç’°å¢ƒæ§‹ç¯‰æ‰‹é †æ›¸

## ğŸ“‹ æ¦‚è¦
Raspberry Pi 5ã§ã®ã‚¹ãƒãƒ¼ãƒˆãƒ—ãƒ©ãƒ³ã‚¿ãƒ¼é–‹ç™ºç’°å¢ƒæ§‹ç¯‰æ‰‹é †

## ğŸ› ï¸ å¿…è¦ãªç’°å¢ƒ

### ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢
- Raspberry Pi 5 (4GBä»¥ä¸Šæ¨å¥¨)
- microSDã‚«ãƒ¼ãƒ‰ (32GBä»¥ä¸Šã€Class 10ä»¥ä¸Š)
- USBã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (16GBä»¥ä¸Š)
- æ¸©æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ AHT25
- åœŸå£Œæ°´åˆ†ã‚»ãƒ³ã‚µãƒ¼ SEN0193
- ãã®ä»–ã‚»ãƒ³ã‚µãƒ¼é¡

### ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢
- Raspberry Pi OS (64-bit) - Bookworm
- Python 3.11.x
- Flask 2.3.3

## ğŸ”§ æ§‹ç¯‰æ‰‹é †

### 1. Raspberry Pi OS ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Raspberry Pi Imagerã§OSã‚’æ›¸ãè¾¼ã¿
# è¨­å®šé …ç›®:
# - SSHæœ‰åŠ¹åŒ–
# - ãƒ¦ãƒ¼ã‚¶ãƒ¼å: pi
# - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: [è¨­å®š]
# - Wi-Fiè¨­å®š: [è‡ªå®…ã®Wi-Fi]
```

### 2. ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°

```bash
sudo apt update
sudo apt upgrade -y
sudo apt install -y python3-pip python3-venv
```

### 3. Pythonç’°å¢ƒæ§‹ç¯‰

```bash
# ä»®æƒ³ç’°å¢ƒä½œæˆ
python3 -m venv smart-planter-env
source smart-planter-env/bin/activate

# å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install Flask==2.3.3
pip install RPi.GPIO
pip install requests
pip install Pillow
pip install numpy
pip install opencv-python
```

### 4. å›ºå®šIPè¨­å®š

```bash
# DHCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
sudo nano /etc/dhcpcd.conf

# ä»¥ä¸‹ã‚’è¿½åŠ 
interface wlan0
static ip_address=192.168.1.100/24
static routers=192.168.1.1
static domain_name_servers=192.168.1.1 8.8.8.8

# è¨­å®šåæ˜ 
sudo systemctl restart dhcpcd
```

### 5. mDNSè¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
# avahi-daemonã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt install avahi-daemon

# ãƒ›ã‚¹ãƒˆåè¨­å®š
sudo nano /etc/hostname
# å†…å®¹: smart-planter

# å†èµ·å‹•
sudo reboot
```

### 6. USBã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è¨­å®š

```bash
# USBã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ãƒã‚¦ãƒ³ãƒˆ
sudo mkdir /mnt/usb-storage
sudo mount /dev/sda1 /mnt/usb-storage

# è‡ªå‹•ãƒã‚¦ãƒ³ãƒˆè¨­å®š
echo '/dev/sda1 /mnt/usb-storage ext4 defaults 0 2' | sudo tee -a /etc/fstab
```

### 7. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ

```bash
mkdir -p /home/pi/smart-planter
cd /home/pi/smart-planter

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ
mkdir -p {src,data,logs,images,config}
```

## ğŸš€ èµ·å‹•ç¢ºèª

### 1. Flaskèµ·å‹•ãƒ†ã‚¹ãƒˆ

```bash
cd /home/pi/smart-planter
source smart-planter-env/bin/activate

# ãƒ†ã‚¹ãƒˆç”¨Flaskã‚¢ãƒ—ãƒªä½œæˆ
cat > test_app.py << EOF
from flask import Flask
import socket

app = Flask(__name__)

@app.route('/')
def home():
    return f"""
    <h1>ğŸŒ± ã™ãã™ããƒŸãƒ³ãƒˆã¡ã‚ƒã‚“</h1>
    <p>ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•ä¸­...</p>
    <p>IP: {socket.gethostbyname(socket.gethostname())}</p>
    """

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
EOF

python test_app.py
```

### 2. ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª

```
å›ºå®šIP: http://192.168.1.100:5000
mDNS: http://smart-planter.local:5000
ãƒ­ãƒ¼ã‚«ãƒ«: http://localhost:5000
```

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### IPã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºèª
```bash
# ç¾åœ¨ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºèª
ip addr show wlan0

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šç¢ºèª
ping 8.8.8.8
```

### Flaskèµ·å‹•ã‚¨ãƒ©ãƒ¼
```bash
# ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ç¢ºèª
sudo netstat -tlnp | grep :5000

# ãƒ—ãƒ­ã‚»ã‚¹çµ‚äº†
sudo kill -9 [PID]
```

### ã‚»ãƒ³ã‚µãƒ¼æ¥ç¶šç¢ºèª
```bash
# GPIOç¢ºèª
sudo raspi-config
# Interface Options > I2C > Enable
# Interface Options > SPI > Enable
```

## ğŸ“± é–‹ç™ºç”¨ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•

### æ¨å¥¨ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•
1. **å›ºå®šIP**: `http://192.168.1.100:5000`
2. **mDNS**: `http://smart-planter.local:5000`
3. **å‹•çš„IPæ¤œå‡º**: èµ·å‹•æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹

### é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹
- ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã¯æœ¬ç•ªç’°å¢ƒã§ã¯ç„¡åŠ¹åŒ–
- ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã¯USBã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
- å®šæœŸçš„ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å®Ÿæ–½

## ğŸ”„ è‡ªå‹•èµ·å‹•è¨­å®š

```bash
# systemdã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ
sudo nano /etc/systemd/system/smart-planter.service

# å†…å®¹:
[Unit]
Description=Smart Planter Flask App
After=network.target

[Service]
Type=simple
User=pi
WorkingDirectory=/home/pi/smart-planter
Environment=PATH=/home/pi/smart-planter/smart-planter-env/bin
ExecStart=/home/pi/smart-planter/smart-planter-env/bin/python src/app.py
Restart=always

[Install]
WantedBy=multi-user.target

# ã‚µãƒ¼ãƒ“ã‚¹æœ‰åŠ¹åŒ–
sudo systemctl enable smart-planter.service
sudo systemctl start smart-planter.service
```

## ğŸ“Š ç’°å¢ƒç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] Raspberry Pi OS ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
- [ ] Python 3.11.x ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
- [ ] Flask 2.3.3 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
- [ ] å›ºå®šIPè¨­å®šå®Œäº†
- [ ] USBã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒã‚¦ãƒ³ãƒˆå®Œäº†
- [ ] GPIOæœ‰åŠ¹åŒ–å®Œäº†
- [ ] Flaskèµ·å‹•ãƒ†ã‚¹ãƒˆå®Œäº†
- [ ] ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèªå®Œäº†
- [ ] è‡ªå‹•èµ·å‹•è¨­å®šå®Œäº†

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. ã‚»ãƒ³ã‚µãƒ¼æ¥ç¶šãƒ†ã‚¹ãƒˆ
2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
3. Web UIå®Ÿè£…
4. LINEé€šçŸ¥æ©Ÿèƒ½å®Ÿè£…
5. çµ±åˆãƒ†ã‚¹ãƒˆ

---

**ä½œæˆæ—¥**: 2025å¹´1æœˆ
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**ãƒãƒ¼ãƒ **: KEBABS
